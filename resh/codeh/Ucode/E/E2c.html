<!DOCTYPE HTML>
<head>
        <meta charset="UTF-8">
        <title>Open Source Code - 代码库</title>
</head>
<p><a href="#" onClick="javascript :history.back(-1);">返回</a><p>
<font face="Courier New"><p>#include&lt;stdio.h&gt;</p><p>#include&lt;stdlib.h&gt;</p><p>#include&lt;string.h&gt;</p><p>#include&lt;math.h&gt;</p><p>#include&lt;malloc.h&gt;</p><p>int&nbsp;an,bn,fa=1,fb=1;</p><p>/*把an,bn,k设为全局变量,an纪录第一个高精度数组的位数,bn纪录第二个高精度数组的位数,k纪录输出结果的位数*/</p><p>char&nbsp;b1[250],b2[250];/*纪录需要计算的两个高精度数据*/</p><p>void&nbsp;</p><p>input(int&nbsp;a1[],int&nbsp;a2[])</p><p>&nbsp;</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;/*函数input为输入函数,用来纪录两个待计算的高精度数据,以数组首地址为参数.以实现返回两个高精度数据*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,ai=1,bi=1;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;scanf(&quot;%s%s&quot;,b1,b2);/*输入两个高精度数 据*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;an=</p><p>strlen(b1);/*an纪录b1的位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;bn=strlen(b2);/*bn纪录b2的位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(b1[0]==45){an--;fa=-1;ai=0;}/*判断数组的符号*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(b2[0]==45){bn--;fb=-1;bi=0;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;an;i++,ai++){a1[i]=b1[an-ai]-&apos;0&apos;;</p><p>printf(&quot;%d&quot;,a1[i]);}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;/*把字符形数据b1转为整数形数据,同样用数组纪录*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;bn;i++,bi++)a2[i]=b2[bn-bi]-&apos;0&apos;;/*同上*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;return;</p><p>}</p><p>&nbsp;</p><p>void&nbsp;subtraction(int&nbsp;a[],int&nbsp;b[],int&nbsp;q);</p><p>void&nbsp;addition(int&nbsp;a[],int&nbsp;b[],int&nbsp;q)/*高精度加法运算*/</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,c[251]={0},k;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(fa*fb&gt;0||q)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(an&gt;bn)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k=an;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k=bn;/*用k纪录结果的最小位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;k;i++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i]=a[i]+b[i]+c[i];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i+1]=(int)c[i]/10;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i]=(int)c[i]%10;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}/*</p><p>高精度加法运算过程*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(c[k])k++;/*判断最后结果的位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(fa&lt;0&amp;&amp;q||fa&lt;0)</p><p>printf(&quot;-&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=k-1;i&gt;=0;i--)printf(&quot;%d&quot;,c[i]);/*输出结果*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subtraction(a,b,1);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;return;</p><p>}</p><p>void&nbsp;subtraction(int&nbsp;a[],int&nbsp;b[],int&nbsp;q)/*</p><p>高精度减法运算*/</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,f=0,c[251]={0},k;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(fa*fb&gt;0||q)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(an&gt;bn)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k=an;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else/*用k纪录结果的最大位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k=bn;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=k;a[i]&lt;=b[i]&amp;&amp;i&gt;=0;i--)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(a[i]&lt;b[i])f=1;/*f纪录结果符号*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!f)/*高精度减法运算过程*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;k;i++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(a[i]&lt;b[i])</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{a[i+1]--;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a[i]+=10;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i]=a[i]-b[i];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else/*当a&lt;b时的处理*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;k;i++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(b[i]&lt;a[i])</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{b[i+1]--;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b[i]+=10;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i]=b[i]-a[i];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(!c[k-1]&amp;&amp;k&gt;1)k--;/*判断最后结果的位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(q&amp;&amp;(fa&gt;0&amp;&amp;f||fa&lt;0&amp;&amp;!f)||fa&gt;0&amp;&amp;(fb&gt;0&amp;&amp;!f||f&amp;&amp;!q))</p><p>printf(&quot;-&quot;);/*如果f为真是输出负号*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=k-1;i&gt;=0;i--)printf(&quot;%d&quot;,c[i]);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addition(a,b,1);</p><p>}</p><p>void&nbsp;multiplication(int&nbsp;a[],int&nbsp;b[])/*</p><p>高精度乘法运算*/</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,j,c[501]={0},k;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;k=an+bn-1;/*用k纪录结果的最大位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;an;i++)/*高精度乘法运算过程*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(j=0;j&lt;bn;j++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i+j]=a[i]*b[j]+c[i+j];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i+j+1]=c[i+j]/10+c[i+j+1];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i+j]=c[i+j]%10;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(!c[k])k--;/*判断最后结果的位数*/</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(fa*fb&lt;0)</p><p>printf(&quot;-&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=k;i&gt;=0;i--)printf(&quot;%d&quot;,c[i]);/*输出结果*/</p><p>}</p><p>int&nbsp;main()</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;a[250]={0},b[250]={0};</p><p>&nbsp;&nbsp;&nbsp;&nbsp;input(a,b);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;\n%s+%s=&quot;,b1,b2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;addition(a,b,0);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;\n%s-%s=&quot;,b1,b2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;subtraction(a,b,0);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;\n%s*%s=&quot;,b1,b2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;multiplication(a,b);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;system(&quot;pause&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;</p><p>}</p><p></p></font>