<!DOCTYPE HTML>
<head>
    <meta charset="UTF-8">
    <title>Open Source Code - 代码库</title>
</head>
<p><a href="#" onClick="javascript :history.back(-1);">返回</a><p>
<font face="Courier New"><p>#include&nbsp;&lt;iostream&gt;</p><p>#include&nbsp;&lt;cstdlib&gt;</p><p>#include&nbsp;&lt;cstdio&gt;</p><p>#include&nbsp;&lt;cstring&gt;</p><p>#include&nbsp;&lt;string&gt;</p><p>#define&nbsp;INF&nbsp;0x7f7f7f7f</p><p>using&nbsp;namespace&nbsp;std;</p><p>int&nbsp;vwi[40][3]={0};</p><p>int&nbsp;vis[40]={0};</p><p>int&nbsp;maxn=-INF;</p><p>int&nbsp;m,n;</p><p>void&nbsp;dfs(int&nbsp;money,int&nbsp;wi)</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(money&lt;0)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;maxn=max(maxn,wi);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=1;i&lt;=n;i++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(vis[i]==0)//&amp;&amp;money-vwi[i][1]&gt;=0)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vis[i]=1;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dfs(money-vwi[i][1],wi+vwi[i][2]);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vis[i]=0;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>}</p><p>int&nbsp;main()</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;t1=0,t2=0;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;m&gt;&gt;n;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=1;i&lt;=n;i++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;vwi[i][1];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1+=vwi[i][1];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;vwi[i][2];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t2+=vwi[i][2];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(m&gt;=t1)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;t2;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;}</p><p>&nbsp;&nbsp;&nbsp;&nbsp;dfs(m,0);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;if(maxn==-INF)cout&lt;&lt;0;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;cout&lt;&lt;maxn;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;</p><p>}</p><p></p></font>